<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Country Flag</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- CSS only -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

	<!-- JS, Popper.js, and jQuery -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
	<link rel="stylesheet" type="text/css" href="/css/index.css">
	<script type="text/javascript">
		function cmode(){
			var element = document.body;
			element.classList.toggle("dark-mode");
			if(document.getElementById('navBar').className == "navbar navbar-light bg-light border-bottom"){
				sessionStorage.setItem("dmode", "true");
				document.getElementById('navBar').className = "navbar navbar-dark bg-dark border-bottom border-dark";
				while(document.getElementsByClassName('btn btn-light')[0]){
					document.getElementsByClassName('btn btn-light')[0].style.color = "#fff";
					document.getElementsByClassName('btn btn-light')[0].style.borderColor = "black";
					document.getElementsByClassName('btn btn-light')[0].className = "btn btn-dark";
				}
				document.getElementById('moon').src = "https://www.apkmirror.com/wp-content/uploads/2020/03/5e7a6f1ddfe4b.png";
				var i=0;
				while(document.getElementsByClassName('card')[i]){
					document.getElementsByClassName('card')[i].className = "card text-white bg-dark";			
					i++;
				}	
				document.getElementById('back').style.color = "white";
			}else{
				sessionStorage.setItem("dmode", "false");
				document.getElementById('navBar').className = "navbar navbar-light bg-light border-bottom";
				while(document.getElementsByClassName('btn btn-dark')[0]){
					document.getElementsByClassName('btn btn-dark')[0].style.color = "#000";
					document.getElementsByClassName('btn btn-dark')[0].style.borderColor = "black";
					document.getElementsByClassName('btn btn-dark')[0].className = "btn btn-light";
				}
				document.getElementById('mode').style.borderColor = "white";
				document.getElementById('moon').src = "/images/moon.png";
				var t=document.getElementsByClassName('card text-white bg-dark').length;
				for(var i=0;i<t;i++){
					document.getElementsByClassName('card text-white bg-dark')[0].className = "card";
				}
				document.getElementById('back').style.color = "black";	
			}
		}
		function checkmode(){
			if(sessionStorage.getItem("dmode")=="true"){
				var element = document.body;
				element.classList.toggle("dark-mode");
				sessionStorage.setItem("dmode", "true");
				document.getElementById('navBar').className = "navbar navbar-dark bg-dark border-bottom border-dark";
				while(document.getElementsByClassName('btn btn-light')[0]){
					document.getElementsByClassName('btn btn-light')[0].style.color = "#fff";
					document.getElementsByClassName('btn btn-light')[0].style.borderColor = "black";
					document.getElementsByClassName('btn btn-light')[0].className = "btn btn-dark";
				}
				document.getElementById('back').style.color = "white";
				document.getElementById('moon').src = "https://www.apkmirror.com/wp-content/uploads/2020/03/5e7a6f1ddfe4b.png";
				var i=0;
				while(document.getElementsByClassName('card')[i]){
					document.getElementsByClassName('card')[i].className = "card text-white bg-dark";			
					i++;
				}	
			}
		}
	</script>

</head>
<body onload="checkmode()">
	<nav class="navbar navbar-light bg-light border-bottom" style=" background-color: #ffffff;" id="navBar">
	  <span class="navbar-brand mb-0 h1" style="font-weight: bold;">Where in the world?</span>
	  <span><button onclick="cmode()" class="btn btn-light" id="mode"><img src="/images/moon.png" alt="" style="width: 15px;" id="moon"> Dark Mode</button></span>
	</nav>
	<div class="container-fluid">
		<%if(typeof error != 'undefined'){%>
			<p><%=error%></p>
			<p>Back to <a href="/">Home Page</a></p>
		<%}else{%>
			<button class="btn btn-light" style="border: 1px solid black;margin: 20px;margin-left: 0px;"><a href="/" id="back" style="display: block; color: black;text-decoration: none;"> ‚Üê Back </a></button>
			<%console.log(data);%>
			<div class="row">
				<img class="col-sm-12 col-md-6" style="max-width: 570px; display: inline;" src="<%=data['flag']%>" alt="flag">
				<div class="col-sm-12 col-md-6">
					<div class="row">
						<div class="col-12">
							<h3 class="card-title" style="font-weight: bold;"><br/><%=data['name']%></h3>
						</div>
					</div>
					<div class="row">
						<div style="" class="col-md-6 col-sm-12">
							<p class="card-text"><span  style="font-weight: bold;" >Native Name: </span><%=data['nativeName']%></p>
							<p class="card-text"><span  style="font-weight: bold;" >Region: </span><%=data['region']%></p>
							<p class="card-text"><span  style="font-weight: bold;" >Sub Region: </span><%=data['subregion']%></p>
							<p class="card-text"><span  style="font-weight: bold;" >Population: </span><%=data['population']%></p>
							<p class="card-text"><span  style="font-weight: bold;" >Capital: </span><%=data['capital']%></p>
						</div>
						<div style="" class="col-md-6 col-sm-12">
							<p class="card-text"><span  style="font-weight: bold;"><br/>Top Level Domain: </span>
								<%var i=0%>
								<%while(typeof data['topLevelDomain'][i] != 'undefined'){%>
									<%=data['topLevelDomain'][i]%>
									<%if(typeof data['topLevelDomain'][`${i+1}`] != 'undefined'){%>
										<%=', '%>
									<%}%>
								<%i++;}%>
							</p>
							<p class="card-text"><span  style="font-weight: bold;">Currencies:</span> 
								<%var i=0;%>
								<%while(typeof data['currencies'][`${i}`] != 'undefined'){%>
									<%=data['currencies'][0]['name']%>
									<%if(typeof data['currencies'][`${i+1}`] != 'undefined'){%>
										<%=', '%>
									<%}%>
								<%i++;}%>
							</p>
							<p class="card-text"><span  style="font-weight: bold;">Languages: </span>
								<%var i=0;%>
								<%while(typeof data['languages'][`${i}`] != 'undefined'){%>
									<%=data['languages'][`${i}`]['name']%>
									<%if(typeof data['languages'][`${i+1}`] != 'undefined'){%>
										<%=', '%>
									<%}%>
								<%i++;}%>
							</p><br/>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<p class="card-text"><span  style="font-weight: bold;">Border Countries:</span> 
								<%var i=0;%>
								<%while(typeof list[`${i}`] != 'undefined'){%>
									<a href="/display/?name=<%=list[`${i}`]%>">
										<button  class="btn btn-light" style="border: 1px solid gray;"><%=list[`${i}`]%></button>
									</a>
								<%i++;}%>
							</p>
						</div>
					</div>
				</div>
			</div>
		<%}%>
	</div>
</body>